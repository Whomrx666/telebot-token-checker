# Obfuscated by Mr.X
import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKQ2xlYW4gJiBjb2xvcmZ1bCBUZWxlZ3JhbSBib3QgdG9rZW4gY2hlY2tlciArIENoYXQgSUQgZmV0Y2hlcgpQZXJmZWN0IGFsaWdubWVudCBmb3IgVGVybXV4ICjiiYg1MCBjaGFycyB3aWRlKQoiIiIKCmltcG9ydCBzeXMKaW1wb3J0IHRpbWUKaW1wb3J0IHJlcXVlc3RzCmZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUsIFN0eWxlLCBpbml0CgojIEVuYWJsZSBjb2xvciBvbiBhbGwgcGxhdGZvcm1zCmluaXQoYXV0b3Jlc2V0PVRydWUpCgpURUxFR1JBTV9BUElfQkFTRSA9ICJodHRwczovL2FwaS50ZWxlZ3JhbS5vcmcvYm90e3Rva2VufS97bWV0aG9kfSIKCkFTQ0lJX0hFQURFUiA9IGYiIiJ7Rm9yZS5DWUFOfQogIOKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwogIOKVkSAgIHtGb3JlLllFTExPV31URUxFR1JBTSBCT1QgVE9LRU4gQ0hFQ0tFUntGb3JlLkNZQU59ICAgICAgICAgICAgIOKVkQogIOKVkSAgIHtGb3JlLkxJR0hUQkxBQ0tfRVh9QnkgTXIuWCDigKIgRmFzdCDigKIgU2ltcGxlIOKAoiBTdHlsaXNoe0ZvcmUuQ1lBTn0gICAgICDilZEKICDilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0Ke1N0eWxlLlJFU0VUX0FMTH0iIiIKCkZPT1RFUiA9IGYiXG57Rm9yZS5MSUdIVEJMQUNLX0VYfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxue0ZvcmUuQ1lBTn1DcmVhdGUgYnkge0ZvcmUuWUVMTE9XfU1yLlh7U3R5bGUuUkVTRVRfQUxMfVxuIgoKCmRlZiBhbmltYXRlZF9wcmludCh0ZXh0LCBkZWxheT0wLjAzLCBjb2xvcj1Gb3JlLkxJR0hUQ1lBTl9FWCk6CiAgICAiIiJQcmludCB0ZXh0IGxpa2UgYW5pbWF0aW9uLiIiIgogICAgZm9yIGMgaW4gdGV4dDoKICAgICAgICBwcmludChjb2xvciArIGMsIGVuZD0iIiwgZmx1c2g9VHJ1ZSkKICAgICAgICB0aW1lLnNsZWVwKGRlbGF5KQogICAgcHJpbnQoU3R5bGUuUkVTRVRfQUxMKQoKCmRlZiBjaGVja190b2tlbih0b2tlbiwgdGltZW91dD04KToKICAgICIiIkNoZWNrIHRva2VuIHZhbGlkaXR5IHZpYSBUZWxlZ3JhbSBnZXRNZSBBUEkuIiIiCiAgICB1cmwgPSBURUxFR1JBTV9BUElfQkFTRS5mb3JtYXQodG9rZW49dG9rZW4sIG1ldGhvZD0iZ2V0TWUiKQogICAgc3RhcnRfdGltZSA9IHRpbWUudGltZSgpCiAgICB0cnk6CiAgICAgICAgciA9IHJlcXVlc3RzLmdldCh1cmwsIHRpbWVvdXQ9dGltZW91dCkKICAgICAgICBlbGFwc2VkID0gdGltZS50aW1lKCkgLSBzdGFydF90aW1lCiAgICBleGNlcHQgcmVxdWVzdHMuUmVxdWVzdEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiBGYWxzZSwgZiJOZXR3b3JrIGVycm9yOiB7ZX0iLCBOb25lCiAgICBpZiByLnN0YXR1c19jb2RlICE9IDIwMDoKICAgICAgICByZXR1cm4gRmFsc2UsIGYiSFRUUCB7ci5zdGF0dXNfY29kZX0gLSB7ci50ZXh0fSIsIE5vbmUKICAgIHRyeToKICAgICAgICBkYXRhID0gci5qc29uKCkKICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgIHJldHVybiBGYWxzZSwgZiJJbnZhbGlkIEpTT04gcmVzcG9uc2U6IHtyLnRleHRbOjIwMF19IiwgTm9uZQogICAgaWYgZGF0YS5nZXQoIm9rIik6CiAgICAgICAgcmV0dXJuIFRydWUsIGRhdGEuZ2V0KCJyZXN1bHQiLCB7fSksIGVsYXBzZWQKICAgIGVsc2U6CiAgICAgICAgZGVzYyA9IGRhdGEuZ2V0KCJkZXNjcmlwdGlvbiIsICJVbmtub3duIGVycm9yIikKICAgICAgICByZXR1cm4gRmFsc2UsIGYiVGVsZWdyYW0gQVBJIGVycm9yOiB7ZGVzY30iLCBlbGFwc2VkCgoKZGVmIGdldF9jaGF0X2lkcyh0b2tlbiwgbGltaXQ9NSk6CiAgICAiIiJGZXRjaCByZWNlbnQgY2hhdCBJRHMgdXNpbmcgZ2V0VXBkYXRlcy4iIiIKICAgIHVybCA9IFRFTEVHUkFNX0FQSV9CQVNFLmZvcm1hdCh0b2tlbj10b2tlbiwgbWV0aG9kPSJnZXRVcGRhdGVzIikKICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KHVybCwgdGltZW91dD04KQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgIT0gMjAwOgogICAgICAgICAgICByZXR1cm4gW10sIGYiSFRUUCB7ci5zdGF0dXNfY29kZX0iCiAgICAgICAgZGF0YSA9IHIuanNvbigpCiAgICAgICAgaWYgbm90IGRhdGEuZ2V0KCJvayIpOgogICAgICAgICAgICByZXR1cm4gW10sIGRhdGEuZ2V0KCJkZXNjcmlwdGlvbiIsICJVbmtub3duIGVycm9yIikKICAgICAgICB1cGRhdGVzID0gZGF0YS5nZXQoInJlc3VsdCIsIFtdKQogICAgICAgIGNoYXRfaWRzID0gW10KICAgICAgICBmb3IgdXBkIGluIHVwZGF0ZXM6CiAgICAgICAgICAgIGNoYXQgPSB1cGQuZ2V0KCJtZXNzYWdlIiwge30pLmdldCgiY2hhdCIpIG9yIHVwZC5nZXQoImNoYW5uZWxfcG9zdCIsIHt9KS5nZXQoImNoYXQiKQogICAgICAgICAgICBpZiBjaGF0OgogICAgICAgICAgICAgICAgY2lkID0gY2hhdC5nZXQoImlkIikKICAgICAgICAgICAgICAgIHRpdGxlID0gY2hhdC5nZXQoInRpdGxlIikgb3IgY2hhdC5nZXQoInVzZXJuYW1lIikgb3IgY2hhdC5nZXQoImZpcnN0X25hbWUiKSBvciAiVW5rbm93biIKICAgICAgICAgICAgICAgIGNoYXRfaWRzLmFwcGVuZCgoY2lkLCB0aXRsZSkpCiAgICAgICAgc2VlbiA9IFtdCiAgICAgICAgdW5pcXVlID0gW10KICAgICAgICBmb3IgY2lkLCB0aXRsZSBpbiBjaGF0X2lkczoKICAgICAgICAgICAgaWYgY2lkIG5vdCBpbiBzZWVuOgogICAgICAgICAgICAgICAgc2Vlbi5hcHBlbmQoY2lkKQogICAgICAgICAgICAgICAgdW5pcXVlLmFwcGVuZCgoY2lkLCB0aXRsZSkpCiAgICAgICAgcmV0dXJuIHVuaXF1ZVs6bGltaXRdLCBOb25lCiAgICBleGNlcHQgcmVxdWVzdHMuUmVxdWVzdEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiBbXSwgc3RyKGUpCgoKZGVmIHByZXR0eV9wcmludF9yZXN1bHQodG9rZW4sIHJlc3VsdF9vaywgZGV0YWlscywgZWxhcHNlZCk6CiAgICBwcmludChBU0NJSV9IRUFERVIpCiAgICBpZiByZXN1bHRfb2s6CiAgICAgICAgYm90X2lkID0gZGV0YWlscy5nZXQoImlkIiwgInVua25vd24iKQogICAgICAgIHVzZXJuYW1lID0gZGV0YWlscy5nZXQoInVzZXJuYW1lIiwgInVua25vd24iKQogICAgICAgIGZpcnN0X25hbWUgPSBkZXRhaWxzLmdldCgiZmlyc3RfbmFtZSIsICIobm8gbmFtZSkiKQogICAgICAgIGxpbmsgPSBmImh0dHBzOi8vdC5tZS97dXNlcm5hbWV9IiBpZiB1c2VybmFtZSAhPSAidW5rbm93biIgZWxzZSAiKG5vIHVzZXJuYW1lKSIKICAgICAgICBjaGVja2VkX2F0ID0gdGltZS5zdHJmdGltZSgiJVktJW0tJWQgJUg6JU06JVMiKQogICAgICAgIHN0YXR1cyA9ICJPbmxpbmUg4pyFIiBpZiBlbGFwc2VkIGFuZCBlbGFwc2VkIDwgMSBlbHNlICJTbG93IOKaoO+4jyIKICAgICAgICBjb2xvciA9IEZvcmUuR1JFRU4gaWYgIk9ubGluZSIgaW4gc3RhdHVzIGVsc2UgRm9yZS5ZRUxMT1cKCiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn1bK10ge1N0eWxlLkJSSUdIVH1Ub2tlbiBWYWxpZDoge0ZvcmUuV0hJVEV9VFJVRXtTdHlsZS5SRVNFVF9BTEx9IikKICAgICAgICBwcmludChmIiAgICB7Rm9yZS5DWUFOfUJvdCBJRCAgICAgOiB7Rm9yZS5XSElURX17Ym90X2lkfSIpCiAgICAgICAgcHJpbnQoZiIgICAge0ZvcmUuQ1lBTn1Vc2VybmFtZSAgIDoge0ZvcmUuV0hJVEV9QHt1c2VybmFtZX0iKQogICAgICAgIHByaW50KGYiICAgIHtGb3JlLkNZQU59TmFtZSAgICAgICA6IHtGb3JlLldISVRFfXtmaXJzdF9uYW1lfSIpCiAgICAgICAgcHJpbnQoZiIgICAge0ZvcmUuQ1lBTn1Cb3QgTGluayAgIDoge0ZvcmUuQkxVRX17bGlua30iKQogICAgICAgIHByaW50KGYiICAgIHtGb3JlLkNZQU59Q2hlY2tlZCBBdCA6IHtGb3JlLldISVRFfXtjaGVja2VkX2F0fSIpCiAgICAgICAgcHJpbnQoZiIgICAge0ZvcmUuQ1lBTn1SZXNwb25zZSAgIDoge0ZvcmUuV0hJVEV9e2VsYXBzZWQ6LjJmfXMge2NvbG9yfSh7c3RhdHVzfSkiKQoKICAgICAgICAjIEdldCBjaGF0IElEcwogICAgICAgIHByaW50KGYiXG57Rm9yZS5MSUdIVFlFTExPV19FWH1GZXRjaGluZyByZWNlbnQgY2hhdCBJRHMuLi57U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgY2hhdHMsIGVyciA9IGdldF9jaGF0X2lkcyh0b2tlbikKICAgICAgICBpZiBlcnI6CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuUkVEfSAgICBFcnJvcjoge2Vycn17U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgZWxpZiBub3QgY2hhdHM6CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuTElHSFRCTEFDS19FWH0gICAgVGlkYWsgYWRhIGNoYXQgZGl0ZW11a2FuIChib3QgYmVsdW0gZGlndW5ha2FuKS57U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgICAgIHByaW50KGYiICAgIHtGb3JlLkNZQU59R3VuYWthbiBib3QgdW50dWsgbWVuZ2lyaW0gcGVzYW4gYWdhciBtdW5jdWwgZGkgc2luaS57U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5DWUFOfSAgICBEaXRlbXVrYW4gQ2hhdCBJRDp7U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgICAgIGZvciBjaWQsIHRpdGxlIGluIGNoYXRzOgogICAgICAgICAgICAgICAgcHJpbnQoZiIgICAgICDigKIge0ZvcmUuR1JFRU59e2NpZH17Rm9yZS5XSElURX0g4oCUIHtGb3JlLllFTExPV317dGl0bGV9IikKCiAgICBlbHNlOgogICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVstXSBUb2tlbiBWYWxpZDogRkFMU0V7U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgcHJpbnQoZiIgICAge0ZvcmUuQ1lBTn1SZWFzb246IHtGb3JlLldISVRFfXtkZXRhaWxzfSIpCiAgICBwcmludChGT09URVIpCgoKZGVmIHByb21wdF90b2tlbl9pbnRlcmFjdGl2ZSgpOgogICAgcHJpbnQoZiJ7Rm9yZS5MSUdIVFlFTExPV19FWH1NYXN1a2thbiB0b2tlbiBib3QgVGVsZWdyYW0gKGZvcm1hdDogMTIzNDU2OkFCQy1ERUYuLi4pe1N0eWxlLlJFU0VUX0FMTH0iKQogICAgcmV0dXJuIGlucHV0KGYie0ZvcmUuQ1lBTn0+IHtTdHlsZS5SRVNFVF9BTEx9Iikuc3RyaXAoKQoKCmRlZiBtYWluKCk6CiAgICBpZiBsZW4oc3lzLmFyZ3YpID49IDI6CiAgICAgICAgdG9rZW4gPSBzeXMuYXJndlsxXS5zdHJpcCgpCiAgICBlbHNlOgogICAgICAgIHRva2VuID0gcHJvbXB0X3Rva2VuX2ludGVyYWN0aXZlKCkKICAgICAgICBpZiBub3QgdG9rZW46CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVRpZGFrIGFkYSB0b2tlbiBkaWJlcmlrYW4uIEtlbHVhci57U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCgogICAgaWYgIjoiIG5vdCBpbiB0b2tlbiBvciBsZW4odG9rZW4pIDwgMjA6CiAgICAgICAgcHJpbnQoQVNDSUlfSEVBREVSKQogICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVstXSBUb2tlbiBzZXBlcnRpbnlhIHRpZGFrIHZhbGlkIChmb3JtYXQgc2FsYWgpLntTdHlsZS5SRVNFVF9BTEx9IikKICAgICAgICBwcmludChmIntGb3JlLkxJR0hUQkxBQ0tfRVh9UGFzdGlrYW4gZm9ybWF0IHNlcGVydGkgMTIzNDU2OkFCQy1ERUYuLi57U3R5bGUuUkVTRVRfQUxMfSIpCiAgICAgICAgcHJpbnQoRk9PVEVSKQogICAgICAgIHN5cy5leGl0KDEpCgogICAgYW5pbWF0ZWRfcHJpbnQoIuKPsyBDaGVja2luZyBUZWxlZ3JhbSBCb3QgVG9rZW4uLi4iLCAwLjAyKQogICAgb2ssIGRldGFpbHMsIGVsYXBzZWQgPSBjaGVja190b2tlbih0b2tlbikKICAgIHByaW50KCJcbiIpCiAgICBwcmV0dHlfcHJpbnRfcmVzdWx0KHRva2VuLCBvaywgZGV0YWlscywgZWxhcHNlZCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigp').decode('utf-8'))
